{"version":3,"sources":["images/step1.png","images/step2.png","images/step3.png","images/step4.png","images/step5.png","images/step6.png","components/Card.jsx","components/CardStep.jsx","steps.jsx","components/FinalStep.jsx","components/App.jsx","index.js"],"names":["module","exports","Card","props","React","createElement","className","onClick","onNext","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","parseDuration","timeStr","match","toLowerCase","value","parseInt","CardStep","showNext","setShowNext","useState","duration","useRef","useMemo","time","useEffect","bar","document","querySelector","style","transition","backgroundColor","setTimeout","timer","clearTimeout","step","key","ref","el","src","imgURL","alt","steps","id","step1Img","step2Img","step3Img","step4Img","step5Img","step6Img","FinalStep","_ref","videoRef","canvasRef","capturedImg","setCapturedImg","streamActive","setStreamActive","errorMsg","setErrorMsg","navigator","mediaDevices","getUserMedia","video","then","stream","current","srcObject","play","catch","err","console","error","_videoRef$current","getTracks","forEach","track","stop","color","Fragment","borderRadius","border","marginTop","href","download","handleRetake","marginLeft","autoPlay","muted","handleClickPhoto","canvas","videoWidth","videoHeight","getContext","drawImage","dataUrl","toDataURL","display","App","stepNo","setStepNo","nextStep","prev","Math","min","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.35c7eb5a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/step1.885ee367.png\";","module.exports = __webpack_public_path__ + \"static/media/step2.d113d23d.png\";","module.exports = __webpack_public_path__ + \"static/media/step3.5878cae9.png\";","module.exports = __webpack_public_path__ + \"static/media/step4.a321e615.png\";","module.exports = __webpack_public_path__ + \"static/media/step5.2756f010.png\";","module.exports = __webpack_public_path__ + \"static/media/step6.2ee72f55.png\";","import React from \"react\";\r\nfunction Card(props) {\r\n  return (\r\n    <div className=\"card\">\r\n      <h1>Start making your coffee</h1>\r\n      <button onClick={props.onNext}>\r\n        <svg\r\n          className=\"arrow-bounce\"\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          viewBox=\"0 0 24 24\"\r\n          fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path\r\n            d=\"M6 17L11 12L6 7M13 17L18 12L13 7\"\r\n            stroke=\"white\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n          />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nexport default Card;\r\n","import React, { useEffect, useState, useRef, useMemo } from \"react\";\r\nfunction parseDuration(timeStr) {\r\n  const lower = timeStr.toLowerCase();\r\n  const match = lower.match(/(\\d+)\\s*(second|minute)s?/);\r\n  if (!match) return 1000;\r\n  const value = parseInt(match[1], 10);\r\n  const unit = match[2];\r\n  return unit === \"minute\" ? value * 60 * 1000 : value * 1000;\r\n}\r\nfunction CardStep(props) {\r\n  const [showNext, setShowNext] = useState(false);\r\n  const barRef = useRef(null);\r\n  const duration = useMemo(() => parseDuration(props.time), [props.time]);\r\n  useEffect(() => {\r\n    const duration = parseDuration(props.time);\r\n    const bar = document.querySelector(\".bar\");\r\n    if (bar) {\r\n      bar.style.transition = \"none\";\r\n      bar.style.width = \"100%\";\r\n      bar.style.backgroundColor = \"#744030\";\r\n      setTimeout(() => {\r\n        bar.style.transition = `width ${duration}ms linear`;\r\n        bar.style.width = \"0%\";\r\n      }, 10);\r\n    }\r\n    setShowNext(false);\r\n    const timer = setTimeout(() => {\r\n      setShowNext(true);\r\n    }, duration);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [props.step, props.time]);\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h1>{props.step}</h1>\r\n\r\n      <div className=\"timer-container\">\r\n        {!showNext ? (\r\n          <div className=\"timer\">\r\n            <span className=\"label\">{props.time}</span>\r\n            <div\r\n              className=\"bar\"\r\n              key={`step-${props.step}`} // ✅ updated\r\n              ref={(el) => {\r\n                if (el) {\r\n                  el.style.transition = \"none\";\r\n                  el.style.width = \"100%\";\r\n                  el.style.backgroundColor = \"#744030\"; // make sure this is consistent across steps\r\n                  setTimeout(() => {\r\n                    el.style.transition = `width ${duration}ms linear`;\r\n                    el.style.width = \"0%\";\r\n                  }, 20);\r\n                }\r\n              }}\r\n            ></div>\r\n          </div>\r\n        ) : (\r\n          <button onClick={props.onNext}>\r\n            <svg\r\n              className=\"arrow-bounce\"\r\n              width=\"100%\"\r\n              height=\"100%\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                d=\"M6 17L11 12L6 7M13 17L18 12L13 7\"\r\n                stroke=\"white\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <img src={props.imgURL} alt={props.step} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CardStep;\r\n","import step1Img from \"./images/step1.png\";\r\nimport step2Img from \"./images/step2.png\";\r\nimport step3Img from \"./images/step3.png\";\r\nimport step4Img from \"./images/step4.png\";\r\nimport step5Img from \"./images/step5.png\";\r\nimport step6Img from \"./images/step6.png\";\r\n\r\nconst steps = [\r\n  {\r\n    id: 1,\r\n    step: \"1. Heat the chocolate milk\",\r\n    imgURL: step1Img,\r\n    time: \"2 minute\",\r\n  },\r\n  {\r\n    id: 2,\r\n    step: \"2. Brew the coffee\",\r\n    imgURL: step2Img,\r\n    time: \"30 second\",\r\n  },\r\n  {\r\n    id: 3,\r\n    step: \"3. Froth the milk\",\r\n    imgURL: step3Img,\r\n    time: \"1 minute\",\r\n  },\r\n  {\r\n    id: 4,\r\n    step: \"4. Combine coffee with milk\",\r\n    imgURL: step4Img,\r\n    time: \"30 second\",\r\n  },\r\n  {\r\n    id: 5,\r\n    step: \"5. Sweeten to taste\",\r\n    imgURL: step5Img,\r\n    time: \"30 second\",\r\n  },\r\n  {\r\n    id: 6,\r\n    step: \"6. Add froth & toppings\",\r\n    imgURL: step6Img,\r\n    time: \"1 minute\",\r\n  },\r\n];\r\n\r\nexport default steps;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nfunction FinalStep({ step }) {\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const [capturedImg, setCapturedImg] = useState(null);\r\n  const [streamActive, setStreamActive] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Start camera when component mounts\r\n    navigator.mediaDevices\r\n      .getUserMedia({ video: true })\r\n      .then((stream) => {\r\n        setStreamActive(true);\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n          videoRef.current.play();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setErrorMsg(\"Could not access camera. Please check permissions.\");\r\n        console.error(\"Camera error:\", err);\r\n      });\r\n\r\n    // Stop camera stream when unmounted\r\n    return () => {\r\n      if (videoRef.current?.srcObject) {\r\n        videoRef.current.srcObject.getTracks().forEach((track) => track.stop());\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleClickPhoto = () => {\r\n    const video = videoRef.current;\r\n    const canvas = canvasRef.current;\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n    const dataUrl = canvas.toDataURL(\"image/png\");\r\n    setCapturedImg(dataUrl);\r\n  };\r\n\r\n  const handleRetake = () => {\r\n    setCapturedImg(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card final-card\">\r\n      <h1>Smile & sip, let's take a selfie!</h1>\r\n\r\n      {errorMsg ? (\r\n        <p style={{ color: \"red\" }}>{errorMsg}</p>\r\n      ) : (\r\n        <div className=\"camera-section\">\r\n          {!capturedImg ? (\r\n            <>\r\n              <video\r\n                ref={videoRef}\r\n                autoPlay\r\n                muted\r\n                style={{\r\n                  width: \"100%\",\r\n                  borderRadius: \"12px\",\r\n                  border: \"2px solid #744030\",\r\n                }}\r\n              />\r\n              <button className=\"btn\" onClick={handleClickPhoto}>\r\n                📷 Click Photo\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <img\r\n                src={capturedImg}\r\n                alt=\"Captured\"\r\n                style={{\r\n                  width: \"100%\",\r\n                  borderRadius: \"12px\",\r\n                  border: \"2px solid #744030\",\r\n                }}\r\n              />\r\n              <div style={{ marginTop: \"12px\" }}>\r\n                <a href={capturedImg} download=\"coffee-moment.png\">\r\n                  <button className=\"btn\">⬇️ Download Image</button>\r\n                </a>\r\n                <button\r\n                  className=\"btn\"\r\n                  onClick={handleRetake}\r\n                  style={{ marginLeft: \"10px\" }}\r\n                >\r\n                  🔁 Retake Photo\r\n                </button>\r\n              </div>\r\n            </>\r\n          )}\r\n          <canvas ref={canvasRef} style={{ display: \"none\" }} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FinalStep;\r\n","import React, { useState } from \"react\";\r\nimport Card from \"./Card\";\r\nimport CardStep from \"./CardStep\";\r\nimport steps from \"../steps\";\r\nimport FinalStep from \"./FinalStep\";\r\nfunction App() {\r\n  const [stepNo, setStepNo] = useState(0);\r\n  const nextStep = () => {\r\n    setStepNo((prev) => Math.min(prev + 1, steps.length + 1));\r\n  };\r\n\r\n  return (\r\n    <div className=\"phone-container\">\r\n      {stepNo === 0 && <Card onNext={nextStep} />}\r\n\r\n      {stepNo >= 1 && stepNo <= 6 && (\r\n        <CardStep\r\n          step={steps[stepNo - 1].step}\r\n          imgURL={steps[stepNo - 1].imgURL}\r\n          time={steps[stepNo - 1].time}\r\n          onNext={nextStep}\r\n        />\r\n      )}\r\n\r\n      {stepNo === 7 && <FinalStep />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}